<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>


<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="index,nofollow">

<title>Twisted-Examples - PythonInfo Wiki</title>
<script type="text/javascript" src="Twisted-Examples-Dateien/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Suche";
//-->
</script>

<script type="text/javascript">
<!-- // GUI edit link and i18n
var gui_editor_link_href = "/moin/Twisted-Examples?action=edit&editor=gui";
var gui_editor_link_text = "Editieren (GUI)";
//-->
</script>

<!--style-start -->
  <link rel="stylesheet" type="text/css" media="screen" 
href="Twisted-Examples-Dateien/screen.css">
  <link rel="stylesheet" type="text/css" media="scReen" 
href="Twisted-Examples-Dateien/netscape4.css">
  <link rel="stylesheet" type="text/css" media="print" 
href="Twisted-Examples-Dateien/print.css">
  <link rel="alternate stylesheet" type="text/css" media="screen" 
href="Twisted-Examples-Dateien/largestyles.css" title="large text">
  

<link rel="alternate" type="application/wiki" title="Editieren" 
href="http://wiki.python.org/moin/Twisted-Examples?action=edit">

<link rel="Start" href="http://wiki.python.org/moin/StartSeite">
<link rel="Alternate" title="Wiki Quelltext" 
href="http://wiki.python.org/moin/Twisted-Examples?action=raw">
<link rel="Alternate" media="print" title="Druckansicht" 
href="http://wiki.python.org/moin/Twisted-Examples?action=print">
<link rel="Search" href="http://wiki.python.org/moin/SeiteFinden">
<link rel="Index" href="http://wiki.python.org/moin/TitleIndex">
<link rel="Glossary" href="http://wiki.python.org/moin/WortIndex">
<link rel="Help" href="http://wiki.python.org/moin/HelpOnFormatting">
</head><body dir="ltr" lang="de">

  <!-- Logo -->
  <h1 id="logoheader">
    <a href="http://www.python.org/" id="logolink" accesskey="1"><img 
id="logo" src="Twisted-Examples-Dateien/python-logo.gif" alt="homepage" 
border="0"></a>
  </h1>
  <!-- Skip to Navigation -->
  <div class="skiptonav"><a href="#navigation" accesskey="2"><img 
src="Twisted-Examples-Dateien/trans.gif" id="skiptonav" alt="skip to 
navigation" border="0"></a></div>
  <div class="skiptonav"><a href="#content" accesskey="3"><img 
src="Twisted-Examples-Dateien/trans.gif" id="skiptocontent" alt="skip to
 content" border="0"></a></div>
  <!-- Utility Menu -->
  <div id="utility-menu"></div>
  <!-- Search Box -->
  <div id="searchbox">
  </div>

  <div id="content-body">
    <div id="body-main">

    <h1 class="pageheading">
<ul style="list-style: none outside none; margin-left: 0pt; 
padding-left: 1em;" id="pagelocation">
<li><a class="backlink" 
href="http://wiki.python.org/moin/Twisted-Examples?action=fullsearch&amp;context=180&amp;value=linkto%3A%22Twisted-Examples%22"
 rel="nofollow" title="Hier klicken fÃ¼r eine Liste der Seiten, die auf 
diese verweisen">Twisted-Examples</a></li>
</ul>
</h1>
<ul id="iconbar">
<li><a href="http://wiki.python.org/moin/Twisted-Examples?action=edit" 
rel="nofollow" title="Editieren"><img alt="Editieren" 
src="Twisted-Examples-Dateien/moin-edit.png" title="Editieren" 
height="12" width="12"></a></li>
<li><a href="http://wiki.python.org/moin/Twisted-Examples" 
rel="nofollow" title="Anzeigen"><img alt="Anzeigen" 
src="Twisted-Examples-Dateien/moin-show.png" title="Anzeigen" 
height="13" width="12"></a></li>
<li><a href="http://wiki.python.org/moin/Twisted-Examples?action=diff" 
rel="nofollow" title="DifferenzAnzeige"><img alt="DifferenzAnzeige" 
src="Twisted-Examples-Dateien/moin-diff.png" title="DifferenzAnzeige" 
height="11" width="15"></a></li>
<li><a href="http://wiki.python.org/moin/Twisted-Examples?action=info" 
rel="nofollow" title="Info"><img alt="Info" 
src="Twisted-Examples-Dateien/moin-info.png" title="Info" height="11" 
width="12"></a></li>
<li><a 
href="http://wiki.python.org/moin/Twisted-Examples?action=subscribe" 
rel="nofollow" title="Abonnieren"><img alt="Abonnieren" 
src="Twisted-Examples-Dateien/moin-subscribe.png" title="Abonnieren" 
height="10" width="14"></a></li>
<li><a href="http://wiki.python.org/moin/Twisted-Examples?action=raw" 
rel="nofollow" title="Rohform"><img alt="Rohform" 
src="Twisted-Examples-Dateien/moin-raw.png" title="Rohform" height="13" 
width="12"></a></li>
<li><a href="http://wiki.python.org/moin/Twisted-Examples?action=print" 
rel="nofollow" title="Druckansicht"><img alt="Druckansicht" 
src="Twisted-Examples-Dateien/moin-print.png" title="Druckansicht" 
height="14" width="16"></a></li>
</ul>


<form id="searchform" method="get" action="/moin/Twisted-Examples">
<div>
<input name="action" value="fullsearch" type="hidden">
<input name="context" value="180" type="hidden">
<label style="display: none;" for="searchinput">Suchen:</label>
<input class="disabled" id="searchinput" name="value" value="Suche" 
size="20" onfocus="searchFocus(this)" onblur="searchBlur(this)" 
onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search" 
type="text">
<input disabled="disabled" id="titlesearch" name="titlesearch" 
value="Titel" alt="Search Titles" type="submit">
<input disabled="disabled" id="fullsearch" name="fullsearch" 
value="Text" alt="Search Full Text" type="submit">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>


<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867">
</p><h1 id="PythonTwistedExamples">Python Twisted Examples</h1>
<span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><p
 class="line862">This page maintained by Jacob <a 
href="http://wiki.python.org/moin/Mathai">Mathai</a>. <span 
class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span></p><p
 class="line867"><a class="http" href="http://www.jacobmathai.org/">http://www.jacobmathai.org</a>
  <span class="anchor" id="line-6"></span><span class="anchor" 
id="line-7"></span></p><ul><li><p class="line891"><a class="http" 
href="http://twistedmatrix.com/trac/">Twisted</a> is an open source 
network framework written entirely in <a class="http" 
href="http://www.python.org/">Python</a>. It allows you to create a 
SMTP, HTTP, proxy and ssh servers (and more) in <a class="http" 
href="http://www.python.org/">Python</a> with minimal effort.  Twisted 
is <strong>Asynchronous</strong> and event driven and allows 
applications to respond to different network connection without the use 
of traditional threading models. <span class="anchor" id="line-8"></span><span
 class="anchor" id="line-9"></span></p></li><li class="gap"><p 
class="line862">Be Sure to Download the <strong><a class="http" 
href="http://twistedmatrix.com/trac/Downloads">Twisted 8.2</a></strong> 
(main Twisted package),<strong><a class="http" 
href="http://pyopenssl.sourceforge.net/">PyOpenSSL</a></strong>, and <strong><a
 class="http" href="http://www.amk.ca/python/code/crypto.html">PyCrypto</a></strong>
 (cryptographic libraries and primitives for ssh connections) before 
running these Python Twisted examples. <span class="anchor" id="line-10"></span><span
 class="anchor" id="line-11"></span></p></li><li class="gap"><p 
class="line862">Install the <strong><a class="nonexistent" 
href="http://wiki.python.org/moin/ZopeInterface">ZopeInterface</a></strong>
 that is bundled with the Twisted Sumo download before installing 
Twisted. (cd <a class="nonexistent" 
href="http://wiki.python.org/moin/ZopeInterface">ZopeInterface</a>* 
&amp;&amp; python setup.py install) <span class="anchor" id="line-12"></span><span
 class="anchor" id="line-13"></span></p></li><li class="gap"><p 
class="line862">Install <strong>Twisted</strong>. (python setup.py 
install) <span class="anchor" id="line-14"></span><span class="anchor" 
id="line-15"></span></p></li><li class="gap"><p class="line862">Install <strong>PyOpenSSL</strong>.
 (make sure you have base <strong><a class="http" 
href="http://www.openssl.org/">openssl</a></strong> installed on the 
system) If during the PyOpenSSL install, you see any errors about 
Kerberos header files, try this: <span class="anchor" id="line-16"></span><span
 class="anchor" id="line-17"></span></p></li></ul><p class="line874">If 
your OpenSSL ore kerberos header files are not in /usr/include, you may 
need to supply the -I flag to let the setup script know where to look. 
The same goes for the libraries of course, use the -L flag. Note that 
build won't accept these flags, so you have t o run first build_ext and 
then build! Example: <span class="anchor" id="line-18"></span><span 
class="anchor" id="line-19"></span></p><ul><li style="list-style-type: 
none;">python setup.py build_ext -I/usr/kerberos/include (or wherever 
your header files are) <span class="anchor" id="line-20"></span><span 
class="anchor" id="line-21"></span>python setup.py build <span 
class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span>python
 setup.py install <span class="anchor" id="line-24"></span><span 
class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span></li></ul><ul><li><p
 class="line862">Install <strong>Pycrypto</strong>. (python setup.py 
install) <span class="anchor" id="line-27"></span><span class="anchor" 
id="line-28"></span></p></li><li class="gap"><p class="line862">Verify 
that all the package are installed correctly by <strong>import</strong>ing
 <strong>pyOpenSSL-0.7, twisted,  Crypto</strong> from a python shell 
and we are ready to go. <span class="anchor" id="line-29"></span><span 
class="anchor" id="line-30"></span></p></li></ul><p class="line867">
</p><h2 id="SimpleHTTPProxyServer.28proxy.py.29">Simple HTTP Proxy 
Server (proxy.py)</h2>
<span class="anchor" id="line-31"></span><p class="line867"><span 
class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><span
 class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><span
 class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><span
 class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><span
 class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><span
 class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span></p><pre>from twisted.web import proxy, http
from twisted.internet import reactor
from twisted.python import log
import sys
log.startLogging(sys.stdout)
 
class ProxyFactory(http.HTTPFactory):
    protocol = proxy.Proxy
 
reactor.listenTCP(8080, ProxyFactory())
reactor.run()</pre><span class="anchor" id="line-44"></span><span 
class="anchor" id="line-45"></span><ul><li>Execute the above Twisted 
python example script (python proxy.py) You may see a Deprecation 
Warning that you can ignore for this example. <span class="anchor" 
id="line-46"></span><span class="anchor" id="line-47"></span></li></ul><p
 class="line867"><span class="anchor" id="line-48"></span><span 
class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><span
 class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><span
 class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><span
 class="anchor" id="line-55"></span></p><pre>[jacob@tux]$ python proxy.py
/usr/lib/python2.3/site-packages/twisted/web/proxy.py:22: DeprecationWarning: twisted.protocols.http has moved to twisted.web.http. See http://twistedmatrix.com/projects/web.
  from twisted.protocols import http
2005/12/06 21:47 EST [-] Log opened.
2005/12/06 21:47 EST [-] __main__.ProxyFactory starting on 8080
2005/12/06 21:47 EST [-] Starting factory &lt;__main__.ProxyFactory instance at 0xb73577ac&gt;</pre><span
 class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span><ul><li><p
 class="line862">Connect your internet browser to the proxy server you 
just created <strong>(localhost:8080)</strong> and you have written a <strong>simple
 proxy server</strong> using Python and Twisted. <span class="anchor" 
id="line-58"></span></p></li></ul><span class="anchor" id="bottom"></span></div>
<p><a href="http://wiki.python.org/moin/Twisted-Examples?action=edit">EditText</a>
 (zuletzt geÃ¤ndert am 2009-09-20 00:43:44 durch <span title="??? @ 
209-6-216-253.c3-0.smr-ubr1.sbo-smr.ma.cable.rcn.com[209.6.216.253]">209-6-216-253</span>)</p>

<!-- END: Document Content -->
    </div>
  </div>


  <!-- Left Hand Navigation Block -->
  <div id="left-hand-navigation">
    <!-- Main Menu -->
    <div id="menu">
      <ul class="level-one">
        <li><a 
href="http://wiki.python.org/moin/Twisted-Examples?action=login">Anmelden</a></li>
	<li> Navigation
          <ul class="level-two">
	    <li> <a href="http://wiki.python.org/moin/FrontPage">Front Page</a></li>
	    <li> <a href="http://wiki.python.org/moin/TitleIndex">Title Index</a></li>
	    <li> <a href="http://wiki.python.org/moin/RecentChanges">Recent 
Changes</a></li>
	    <li> <a href="http://wiki.python.org/moin/FindPage">Find Page</a></li>
	    <li> <a href="http://wiki.python.org/moin/HelpContents">Help</a></li>
	    <li> <a href="http://wiki.python.org/moin/SiteNavigation">Site 
Navigation</a></li>
          </ul>
        </li><li> Actions
          <ul class="level-two">
	    <li><a 
href="http://wiki.python.org/moin/Twisted-Examples?action=AttachFile">Attach
 File</a></li><li><a 
href="http://wiki.python.org/moin/Twisted-Examples?action=Despam">Despam</a></li><li><a
 href="http://wiki.python.org/moin/Twisted-Examples?action=LikePages">Ãhnliche
 Seiten</a></li><li><a 
href="http://wiki.python.org/moin/Twisted-Examples?action=Load">Laden</a></li><li><a
 href="http://wiki.python.org/moin/Twisted-Examples?action=LocalSiteMap">ÃbersichtsKarte</a></li><li><a
 href="http://wiki.python.org/moin/Twisted-Examples?action=SpellCheck">Spell
 Check</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
<!-- end of page -->
</body></html>